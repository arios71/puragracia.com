<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pura Gracia Radio</title>

<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-GX4KQ87HQC"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-GX4KQ87HQC');
</script>

<!-- Manifest PWA -->
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#121212">

<!-- Service Worker -->
<script>
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('/sw.js')
    .then(reg => console.log('Service Worker registrado', reg))
    .catch(err => console.log('Service Worker fallo', err));
}
</script>

<style>
:root{
  --bg-dark:#121212;
  --bg-section:#1e1e1e;
  --accent-green:#4CAF50;
  --accent-gold:#fbac33;
  --white:#ffffff;
}

/* RESET */
*{ box-sizing:border-box; font-family:system-ui,-apple-system,BlinkMacSystemFont,sans-serif; }
body{ margin:0; background:var(--bg-dark); color:var(--white); }

/* MENU */
header{
  position:sticky;
  top:0;
  z-index:100;
  background:rgba(18,18,18,.95);
  backdrop-filter: blur(6px);
}
.nav{
  max-width:480px;
  margin:0 auto;
  display:flex;
  justify-content:space-around;
  padding:12px 8px;
}
.nav a{
  color:var(--white);
  text-decoration:none;
  font-weight:700;
  font-size:.9rem;
}
.nav a:hover{ color:var(--accent-green); }

.app{ width:100%; max-width:480px; padding:20px; margin:0 auto; display:block; }

/* LOGO */
.logo{ width:200px; max-width:80%; display:block; margin:10px auto 8px; }
h1.main-title{ text-align:center; font-size:1.8rem; margin:0; }
h1.main-title span.radio{ font-style:italic; color:var(--accent-gold); }
h2.sub-title{ text-align:center; font-size:1.2rem; margin:4px 0 20px; }

/* PLAYER */
.player{
  background:var(--bg-section);
  border-radius:26px;
  padding:20px;
  box-shadow:0 18px 40px rgba(0,0,0,.35);
  margin-bottom:32px;
  text-align:center;
}
.player button{
  margin-top:12px;
  padding:10px 18px;
  border-radius:20px;
  background:var(--accent-green);
  color:var(--white);
  font-weight:700;
  border:none;
  cursor:pointer;
}
audio{ display:none; }

/* WAVES PLAYER */
.waves-container{
  display:flex;
  justify-content:center;
  align-items:flex-end;
  height:40px;
  margin-top:20px;
  gap:4px;
}
.wave{
  width:4px;
  background:var(--accent-green);
  animation: waveAnim 1s infinite ease-in-out;
}
.wave:nth-child(1){ animation-delay: 0s; }
.wave:nth-child(2){ animation-delay: 0.1s; }
.wave:nth-child(3){ animation-delay: 0.2s; }
.wave:nth-child(4){ animation-delay: 0.3s; }
.wave:nth-child(5){ animation-delay: 0.4s; }
@keyframes waveAnim{
  0%, 100% { height:10px; }
  50% { height:40px; }
}

/* SECTIONS */
.section{ margin-bottom:34px; scroll-margin-top:80px; }
.section h2{ color:var(--accent-green); font-size:1.2rem; margin-bottom:10px; }
.section p{ font-size:.95rem; line-height:1.55; }
.bg-dark-section{ background:var(--bg-section); padding:14px; border-radius:14px; }

/* Spotify */
.pg-spotify-wrapper{ position:relative; width:100%; padding-top:56.25%; }
.pg-spotify-wrapper iframe{ position:absolute; inset:0; width:100%; height:100%; border:0; border-radius:12px; }

/* SAM Widget Recientes */
sam-widget{ display:block; margin:0 auto; border-radius:14px; overflow:hidden; background:var(--bg-section); }

/* WhatsApp flotante */
.whatsapp-float{
  position:fixed;
  right:18px;
  bottom:18px;
  width:60px;
  height:60px;
  background:#25D366;
  border-radius:50%;
  display:none;
  align-items:center;
  justify-content:center;
  box-shadow:0 12px 28px rgba(0,0,0,.35);
  z-index:999;
}
.whatsapp-float img{ width:34px; }
@media(max-width:768px){.whatsapp-float{ display:flex; }}

/* WhatsApp secci√≥n */
.whatsapp-box{ text-align:center; }
.whatsapp-box img{ width:56px; margin-bottom:10px; }
.whatsapp-box a{
  display:inline-block;
  margin-top:8px;
  background:#25D366;
  color:#003b1f;
  font-weight:700;
  padding:10px 18px;
  border-radius:20px;
  text-decoration:none;
}

/* Gallery Ministerios */
.pg-gallery{ display:grid; grid-template-columns:repeat(4,1fr); gap:14px; }
.pg-item{text-align:center; text-decoration:none; color:#fff;}
.pg-item img{ width:100%; aspect-ratio:1/1; object-fit:cover; border-radius:14px; }
.pg-item span{ display:block; margin-top:6px; font-size:.85rem; font-weight:600;}
@media(max-width:768px){.pg-gallery{grid-template-columns:repeat(3,1fr);} }
@media(max-width:480px){.pg-gallery{grid-template-columns:repeat(2,1fr);} }

/* Footer */
footer{
  text-align:center;
  font-size:.8rem;
  opacity:.75;
  margin:20px 0 10px;
}
</style>

<!-- SAM Widgets -->
<script type="module" src="https://samcloudmedia.spacial.com/webwidgets/widget/v6/sam-widgets/sam-widgets.esm.js"></script>

</head>
<body>

<header>
  <nav class="nav">
    <a href="#inicio">Inicio</a>
    <a href="#programacion">Programaci√≥n</a>
    <a href="#sermones">Sermones</a>
    <a href="#contacto">Contacto</a>
  </nav>
</header>

<main class="app" id="inicio">

<img class="logo" src="assets/logo.png" alt="Pura Gracia Radio">
<h1 class="main-title">Pura Gracia <span class="radio">Radio</span></h1>
<h2 class="sub-title">WRPG-DB</h2>

<!-- PLAYER -->
<section class="player">
  <button id="playRadio">‚ñ∂ Reproducir Radio</button>
  <div class="waves-container">
    <div class="wave"></div>
    <div class="wave"></div>
    <div class="wave"></div>
    <div class="wave"></div>
    <div class="wave"></div>
  </div>
  <audio id="radioAudio" preload="none">
    <source src="https://playerservices.streamtheworld.com/api/livestream-redirect/SAM05AAC459_SC" type="audio/mpeg">
  </audio>
</section>

<!-- RECIENTES -->
<section class="section bg-dark-section">
<h2>üéß Recientes</h2>
<sam-widget
  type="history"
  station-id="135533"
  token="cdf7c7d6204a644fed684c340bda2649d7675bb0"
  history-limit="5"
  show-cover-art="true"
  show-buy-button="never"
  show-request-button="false"
  refresh-interval="30s"
  theme='{"backgroundTop":"#1e1e1eff","backgroundBottom":"#1e1e1eff","widgetBorder":"#ffffffff","dividers":"#c2b6b6ff","buttons":"#4CAF50ff","text":"#ffffffff"}'>
</sam-widget>
</section>

<!-- PROGRAMACION -->
<section class="section bg-dark-section" id="programacion">
<h2>üóìÔ∏è Programaci√≥n</h2>
<iframe
  src="https://teamup.com/ksqyre4rtx15nnfei3?view=d&showViewHeader=0&showTitle=0&showLogo=0&showMenu=0&disableSidepanel=1"
  style="width:100%;height:600px;border:0;"
  loading="lazy">
</iframe>
</section>

<!-- SERMONES -->
<section class="section bg-dark-section" id="sermones">
<h2>üéôÔ∏è Sermones</h2>
<div class="pg-spotify-wrapper">
<iframe src="https://open.spotify.com/embed/show/7bCzhWNjuVzSWeTLXvk9vt"
allow="autoplay; encrypted-media"></iframe>
</div>
</section>

<!-- WHATSAPP -->
<section class="section bg-dark-section">
<h2>üí¨ √önete a nuestro canal de WhatsApp</h2>
<div class="whatsapp-box">
  <img src="assets/whatsapp.png" alt="WhatsApp">
  <p>Recibe anuncios sobre cambios en la programaci√≥n y otras actualizaciones.</p>
  <a href="https://www.whatsapp.com/channel/0029VaAFdiO60eBjjXuyei1U" target="_blank" rel="noopener">Seguir canal</a>
</div>
</section>

<!-- CONTACTO -->
<section class="section bg-dark-section contact" id="contacto">
<h2>üì¨ Contacto</h2>
<p>Escr√≠benos a: <a href="mailto:radio@puragracia.com" style="color:#ffffff;">radio@puragracia.com</a></p>
</section>

<!-- MINISTERIOS COLABORADORES -->
<section class="section bg-dark-section">
<h2>ü§ù Ministerios colaboradores</h2>
<div class="pg-gallery">
  <a class="pg-item" href="https://eternidadplus.com/" target="_blank">
    <img src="assets/radio-eternidad.png" alt="Radio Eternidad">
    <span>Radio Eternidad</span>
  </a>
  <a class="pg-item" href="https://transmundial.org/" target="_blank">
    <img src="assets/transmundial.png" alt="Radio Transmundial">
    <span>Radio Transmundial</span>
  </a>
  <a class="pg-item" href="https://es.thirdmill.org/" target="_blank">
    <img src="assets/thirdmill.png" alt="ThirdMill Ministries">
    <span>ThirdMill Ministries</span>
  </a>
  <a class="pg-item" href="https://lecturapublicadelabiblia.org/" target="_blank">
    <img src="assets/lectura-biblia.png" alt="Lectura P√∫blica de la Biblia">
    <span>Lectura P√∫blica Biblia</span>
  </a>
  <a class="pg-item" href="https://www.coalicionporelevangelio.org/" target="_blank">
    <img src="assets/coalicion-evangelio.png" alt="Coalici√≥n por el Evangelio">
    <span>Coalici√≥n por el Evangelio</span>
  </a>
  <a class="pg-item" href="https://laibi.org/" target="_blank">
    <img src="assets/laibi.png" alt="Iglesia Bautista Internacional">
    <span>Ig. Bautista Internacional</span>
  </a>
  <a class="pg-item" href="https://integridadysabiduria.org/" target="_blank">
    <img src="assets/integridad.png" alt="Integridad y Sabidur√≠a">
    <span>Integridad y Sabidur√≠a</span>
  </a>
  <a class="pg-item" href="https://www.desiringgod.org/" target="_blank">
    <img src="assets/desiringgod.png" alt="Desiring God">
    <span>Desiring God</span>
  </a>
</div>
</section>

<footer>
¬© 2026 Iglesia B√≠blica Gracia Verdadera
</footer>

</main>

<script>
// Bot√≥n de reproducci√≥n radio con ondas
const playBtn = document.getElementById('playRadio');
const audio = document.getElementById('radioAudio');
const waves = document.querySelectorAll('.wave');

playBtn.addEventListener('click', async () => {
  try {
    if(audio.paused){
      await audio.play();
      playBtn.textContent = '‚è∏ Pausar Radio';
      waves.forEach(w => w.style.animationPlayState = 'running');
    }else{
      audio.pause();
      playBtn.textContent = '‚ñ∂ Reproducir Radio';
      waves.forEach(w => w.style.animationPlayState = 'paused');
    }
  } catch(err){
    console.error('Error al reproducir audio:', err);
    alert('No se pudo reproducir el audio. Intenta en otro navegador o revisa tu conexi√≥n.');
  }
});

// Iniciar ondas pausadas al cargar
waves.forEach(w => w.style.animationPlayState = 'paused');
</script>

<!-- WhatsApp flotante -->
<a href="https://www.whatsapp.com/channel/0029VaAFdiO60eBjjXuyei1U"
   class="whatsapp-float"
   target="_blank"
   rel="noopener"
   aria-label="WhatsApp">
  <img src="assets/whatsapp.png" alt="WhatsApp">
</a>

</body>
</html>

